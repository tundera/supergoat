// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider   = "prisma-client-js"
  output     = "node_modules/.prisma/client"
  engineType = "binary"
}

model User {
  id       String @id @default(cuid())
  name     String @default("")
  email    String @unique @default("")
  password String
}

model Team {
  id            String       @id @default(cuid())
  createdAt     DateTime
  updatedAt     DateTime
  name          String       @unique @default("")
  handle        String       @unique @default("")
  slug          String       @unique @default("")
  city          String       @default("")
  abbreviation  String       @unique @default("")
  conference    String       @default("")
  division      String       @default("")
  established   String       @default("")
  wins          Int?
  losses        Int?
  winPercentage Float?
  players       Player[]     @relation("Player_team")
  coaches       Coach[]      @relation("Coach_team")
  colorScheme   ColorScheme? @relation("Team_colorScheme", fields: [colorSchemeId], references: [id])
  colorSchemeId String?      @map("colorScheme")
  logo          Image?       @relation("Image_team")

  @@index([colorSchemeId])
}

model Player {
  id        String   @id @default(cuid())
  createdAt DateTime
  updatedAt DateTime
  name      String   @unique @default("")
  handle    String   @unique @default("")
  slug      String   @unique @default("")
  height    String   @default("")
  weight    String   @default("")
  number    String   @default("")
  position  String   @default("")
  team      Team?    @relation("Player_team", fields: [teamId], references: [id])
  teamId    String?  @map("team")
  image     Image?   @relation("Image_player")

  @@index([teamId])
}

model Coach {
  id          String   @id @default(cuid())
  createdAt   DateTime
  updatedAt   DateTime
  name        String   @unique @default("")
  handle      String   @unique @default("")
  type        String   @default("")
  isAssistant String   @default("")
  team        Team?    @relation("Coach_team", fields: [teamId], references: [id])
  teamId      String?  @map("team")
  image       Image?   @relation("Coach_image", fields: [imageId], references: [id])
  imageId     String?  @unique @map("image")

  @@index([teamId])
}

model ColorScheme {
  id        String   @id @default(cuid())
  createdAt DateTime
  updatedAt DateTime
  primary   String   @default("")
  secondary String   @default("")
  team      Team[]   @relation("Team_colorScheme")
}

model Image {
  id        String   @id @default(cuid())
  createdAt DateTime
  updatedAt DateTime
  url       String   @unique @default("")
  type      String?
  player    Player?  @relation("Image_player", fields: [playerId], references: [id])
  playerId  String?  @unique @map("player")
  coach     Coach?   @relation("Coach_image")
  team      Team?    @relation("Image_team", fields: [teamId], references: [id])
  teamId    String?  @unique @map("team")
}